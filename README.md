# Лабораторная работа №7
## Структура файлов проекта
app.py — основной файл с логикой веб-сервера, обработкой данных о курсах валют и реализацией паттерна "Наблюдатель".

templates/ — папка с HTML-шаблонами:

index.html — главная страница с отображением курса валют.

login.html — страница входа.

register.html — страница регистрации.

## Реализация
### app.py
Основной файл проекта, содержащий реализацию веб-сервера Flask, настройку веб-сокетов для обновлений и логику паттерна "Наблюдатель".

Код включает:

Функцию для получения актуальных курсов валют через API Центробанка РФ.

Класс User, представляющий пользователя и реализующий безопасное хранение пароля с хэшированием.

Функции для регистрации и авторизации пользователей.

currency_observer() — функцию, которая выполняется в отдельном потоке и отслеживает изменения курсов валют, отправляя обновления подключенным клиентам.

### Шаблоны HTML
Шаблоны страниц реализуют клиентскую часть интерфейса:

register.html — страница регистрации.

login.html — страница входа.

index.html — главная страница с отображением курсов валют и уникальным идентификатором клиента. Веб-сокет на странице позволяет клиенту получать обновления о курсах валют в реальном времени.

## Принцип работы
### Запуск веб-сервера:

При запуске app.py Flask-сервер и веб-сокет будут ожидать подключения клиентов.
В отдельном потоке запускается функция currency_observer(), которая раз в минуту запрашивает курсы валют и уведомляет клиентов о любых изменениях.
### Авторизация и регистрация:

Пользователи могут зарегистрироваться, создать уникальный логин и пароль, которые будут сохранены в базе данных SQLite.
При успешной регистрации пользователи могут войти в систему и перейти на страницу с отображением курсов валют.
### Наблюдатель:

Веб-сокетное соединение обеспечивает передачу данных от сервера к клиентам.
Когда происходит обновление курса валют, сервер отправляет данные всем подключенным наблюдателям, а на странице отображаются обновленные значения.
### Отображение на странице:

Клиентские страницы отображают курсы валют в реальном времени и идентификатор клиента, сгенерированный сервером.

## Используемые технологии и библиотеки
Flask — для создания веб-приложения.

Flask-SocketIO — для реализации веб-сокетного соединения и отправки данных в реальном времени.

Flask-SQLAlchemy — для работы с базой данных SQLite и хранения пользователей.

## Заключение
Программа реализует паттерн проектирования "Наблюдатель" для отслеживания изменений курсов валют с использованием Flask и веб-сокетов. Успешно реализованы регистрация и авторизация пользователей, хранение паролей в базе данных, а также обновление курсов валют в реальном времени для клиентов.
